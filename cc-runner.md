# MeetMemo AI智能会议纪要生成助手 - 行动指南

## 项目概述
**项目名称**: MeetMemo - AI智能会议纪要生成助手  
**项目目标**: 开发一个基于Whisper离线转录 + DeepSeek API的智能会议纪要生成网页应用  
**开发策略**: 采用MVP(最小可行产品)优先的迭代开发方式  

## 技术栈选择与架构决策

### 前端技术栈
- **框架**: React 18 + TypeScript
- **UI组件库**: Ant Design (提供丰富的组件和良好的用户体验)
- **状态管理**: React Context + useReducer (MVP阶段足够)
- **文件上传**: react-dropzone (支持拖拽上传)
- **富文本编辑器**: @tinymce/tinymce-react (所见即所得编辑)
- **音频播放**: HTML5 Audio API
- **HTTP客户端**: axios
- **构建工具**: Vite (快速开发和构建)

### 后端技术栈
- **框架**: FastAPI (异步支持，自动API文档)
- **语言**: Python 3.9+
- **音频处理**: openai-whisper
- **任务队列**: Celery + Redis (异步处理音频转录)
- **数据库**: SQLite (MVP阶段) -> PostgreSQL (生产环境)
- **ORM**: SQLAlchemy
- **API集成**: httpx (调用DeepSeek API)
- **文件存储**: 本地文件系统 (MVP) -> 云存储 (生产)
- **加密**: cryptography (API Key加密存储)

### 部署与运维
- **容器化**: Docker + Docker Compose
- **Web服务器**: Nginx (反向代理，静态文件服务)
- **进程管理**: Gunicorn + Uvicorn workers
- **监控**: 基础日志记录 (MVP) -> 完整监控系统 (生产)

## MVP开发计划

### 阶段1: 项目基础设施搭建 (1-2天)

#### 1.1 项目结构初始化
```
MeetMemo/
├── frontend/                 # React前端应用
│   ├── src/
│   │   ├── components/      # 可复用组件
│   │   ├── pages/          # 页面组件
│   │   ├── services/       # API调用服务
│   │   ├── types/          # TypeScript类型定义
│   │   └── utils/          # 工具函数
│   ├── public/
│   └── package.json
├── backend/                 # FastAPI后端应用
│   ├── app/
│   │   ├── api/            # API路由
│   │   ├── core/           # 核心配置
│   │   ├── models/         # 数据模型
│   │   ├── services/       # 业务逻辑
│   │   └── tasks/          # Celery任务
│   ├── requirements.txt
│   └── main.py
├── docker-compose.yml       # 开发环境配置
├── .env.example            # 环境变量模板
└── README.md
```

#### 1.2 开发环境配置
- 配置Docker开发环境
- 设置Redis服务 (Celery任务队列)
- 配置数据库连接
- 设置环境变量管理

#### 1.3 基础API框架
- 创建FastAPI应用基础结构
- 配置CORS中间件
- 设置基础路由和错误处理
- 配置Celery任务队列

### 阶段2: 核心功能开发 - 音频上传与处理 (3-4天)

#### 2.1 音频文件上传功能
**前端实现**:
- 创建文件上传组件 (支持拖拽和点击选择)
- 文件格式验证 (.mp3, .wav, .m4a, .flac)
- 文件大小限制 (500MB)
- 上传进度显示
- 错误处理和用户提示

**后端实现**:
- 文件上传API端点 (`POST /api/upload`)
- 文件格式和大小验证
- 临时文件存储管理
- 上传状态响应

#### 2.2 Whisper音频转录集成
**模型部署**:
- 在后端服务器部署Whisper模型 (MVP使用base模型)
- 配置GPU加速 (如果可用)
- 模型加载和内存管理

**转录服务**:
- 创建Celery异步任务处理音频转录
- 实现转录进度跟踪
- 生成带时间戳的转录文本
- 错误处理和重试机制

#### 2.3 任务状态管理
**后端实现**:
- 任务状态API (`GET /api/task/{task_id}/status`)
- 任务进度更新机制
- 任务结果存储

**前端实现**:
- 任务状态轮询组件
- 进度条和状态提示
- 实时状态更新显示

### 阶段3: AI纪要生成功能 (2-3天)

#### 3.1 DeepSeek API集成
**API配置管理**:
- 用户API Key输入界面
- API Key临时存储 (MVP阶段不持久化)
- API调用服务封装

**纪要生成服务**:
- 创建DeepSeek API调用服务
- 实现固定的会议纪要模板
- 错误处理和API限制管理

#### 3.2 纪要模板系统
**MVP模板设计**:
```markdown
# 会议纪要

**会议时间**: [自动生成当前时间]
**会议主题**: [根据转录内容智能提取]
**参会人员**: [从对话中识别发言人]

## 主要议题
[分点总结讨论的主要话题]

## 重要决议
[提取明确的决策和结论]

## 行动项 (Action Items)
- [任务描述] - [负责人] - [时间要求]

## 其他要点
[补充重要信息]
```

#### 3.3 结果处理和展示
- 转录文本和纪要的数据结构设计
- 结果存储和检索
- API响应格式标准化

### 阶段4: 用户界面开发 (3-4天)

#### 4.1 主页面设计
**布局结构**:
- 顶部导航栏 (Logo, 设置按钮)
- 主要工作区域
- 状态提示区域

**工作流界面**:
- 文件上传区域
- 配置选项 (API Key输入, 语言选择)
- 开始处理按钮
- 进度显示区域

#### 4.2 结果展示页面
**双栏布局**:
- 左栏: 原始转录文本 (只读)
- 右栏: 会议纪要 (可编辑)
- 顶部: 音频播放器控件

**编辑功能**:
- 集成TinyMCE富文本编辑器
- 实时编辑保存
- 格式化工具栏

#### 4.3 导出功能
**导出选项**:
- 复制到剪贴板
- 下载为Markdown文件
- 下载为纯文本文件

### 阶段5: 系统集成与测试 (2-3天)

#### 5.1 端到端集成
- 前后端API集成测试
- 完整工作流测试
- 错误场景处理验证

#### 5.2 性能优化
- 文件上传性能优化
- 音频处理内存管理
- 前端加载性能优化

#### 5.3 用户体验优化
- 加载状态和进度提示
- 错误信息友好化
- 响应式设计适配

### 阶段6: 部署准备 (1-2天)

#### 6.1 生产环境配置
- Docker生产镜像构建
- 环境变量配置
- 安全设置检查

#### 6.2 部署文档
- 安装部署指南
- 配置说明文档
- 故障排除指南

## 开发时间估算

**总开发时间**: 12-18天 (约2.5-3.5周)

| 阶段 | 预估时间 | 关键里程碑 |
|------|----------|------------|
| 阶段1: 基础设施 | 1-2天 | 开发环境就绪 |
| 阶段2: 音频处理 | 3-4天 | Whisper转录功能完成 |
| 阶段3: AI纪要生成 | 2-3天 | DeepSeek集成完成 |
| 阶段4: 用户界面 | 3-4天 | 完整UI/UX实现 |
| 阶段5: 集成测试 | 2-3天 | 端到端功能验证 |
| 阶段6: 部署准备 | 1-2天 | 生产就绪 |

## 风险评估与应对策略

### 技术风险
1. **Whisper模型性能**: 
   - 风险: 转录速度慢，内存占用高
   - 应对: 选择合适的模型大小，实现模型缓存

2. **DeepSeek API限制**:
   - 风险: API调用频率限制，成本控制
   - 应对: 实现请求队列，添加重试机制

3. **大文件处理**:
   - 风险: 长音频文件处理超时
   - 应对: 分段处理，异步任务队列

### 开发风险
1. **时间估算偏差**:
   - 应对: 预留20%缓冲时间，优先核心功能

2. **第三方依赖**:
   - 应对: 提前验证关键依赖，准备备选方案

## 后续迭代规划

### V1.1 功能增强
- 多Whisper模型选择
- 自定义纪要模板
- 用户账户系统
- 历史记录管理

### V1.2 高级功能
- 音频时间戳同步
- 批量处理
- 多语言支持
- 云存储集成

### V2.0 企业版
- 团队协作功能
- 权限管理
- API接口开放
- 高级分析功能

## 开发准则

1. **代码质量**: 遵循PEP8和ESLint规范，编写清晰的注释
2. **安全第一**: 所有用户输入验证，API Key加密存储
3. **用户体验**: 简洁直观的界面，清晰的错误提示
4. **性能优化**: 异步处理，合理的缓存策略
5. **可维护性**: 模块化设计，完善的文档

## 成功标准

MVP成功标准:
- [ ] 用户能够成功上传音频文件
- [ ] Whisper能够准确转录音频为文本
- [ ] DeepSeek API能够生成结构化会议纪要
- [ ] 用户能够编辑和导出最终纪要
- [ ] 整个流程在合理时间内完成 (< 音频时长的2倍)
- [ ] 系统稳定运行，错误处理完善

这个行动指南将指导整个MeetMemo项目的开发过程，确保按时交付高质量的MVP产品。